---
// Footer contact form component for easy access
---

<div class="bg-slate-800 text-white py-12">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="grid lg:grid-cols-2 gap-12">

      <!-- Contact Information Column -->
      <div class="space-y-8">
        <div>
          <h3 class="text-2xl font-bold mb-4">Get Help Now</h3>
          <p class="text-slate-300 mb-6">
            Emergency or routine service? We're here to help 24/7 with professional plumbing and electrical solutions.
          </p>
        </div>

        <!-- Emergency Contact -->
        <div class="bg-red-600 rounded-xl p-6 shadow-lg">
          <div class="flex items-center gap-3 mb-4">
            <div class="w-10 h-10 bg-white rounded-lg flex items-center justify-center">
              <svg class="w-6 h-6 text-red-600" fill="currentColor" viewBox="0 0 24 24">
                <path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/>
              </svg>
            </div>
            <div>
              <h4 class="font-bold text-lg">Emergency Hotline</h4>
              <p class="text-red-100 text-sm">Available 24/7 for urgent situations</p>
            </div>
          </div>
          <a
            href="tel:+16722384660"
            class="block w-full bg-white text-red-600 py-3 px-4 rounded-lg font-bold text-center hover:bg-red-50 transition-colors touch-manipulation"
          >
            ðŸ“ž Call (672) 238-4660 Now
          </a>
        </div>

        <!-- Regular Contact Methods -->
        <div class="space-y-4">
          <div class="flex items-start gap-4">
            <div class="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center flex-shrink-0 mt-1">
              <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 24 24">
                <path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/>
              </svg>
            </div>
            <div>
              <h5 class="font-semibold text-white">Regular Service</h5>
              <a href="tel:6045550124" class="text-blue-300 hover:text-blue-200 font-medium">
                (604) 555-0124
              </a>
              <p class="text-slate-400 text-sm">Mon-Fri 7AM-6PM, Sat-Sun 8AM-5PM</p>
            </div>
          </div>

          <div class="flex items-start gap-4">
            <div class="w-8 h-8 bg-green-600 rounded-lg flex items-center justify-center flex-shrink-0 mt-1">
              <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 24 24">
                <path d="M3 8l7.89 4.26c.67.36 1.45.36 2.12 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
              </svg>
            </div>
            <div>
              <h5 class="font-semibold text-white">Email Support</h5>
              <a href="mailto:info@dspots.com" class="text-green-300 hover:text-green-200 font-medium">
                info@dspots.com
              </a>
              <p class="text-slate-400 text-sm">Response within 2 hours</p>
            </div>
          </div>

          <div class="flex items-start gap-4">
            <div class="w-8 h-8 bg-purple-600 rounded-lg flex items-center justify-center flex-shrink-0 mt-1">
              <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
              </svg>
            </div>
            <div>
              <h5 class="font-semibold text-white">Service Area</h5>
              <p class="text-slate-300">Vancouver & Lower Mainland</p>
              <p class="text-slate-400 text-sm">Burnaby â€¢ Richmond â€¢ Surrey â€¢ North Van</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Quick Contact Form Column -->
      <div class="bg-white rounded-xl p-6 text-slate-800">
        <h3 class="text-xl font-bold mb-4">Send us a Message</h3>
        <p class="text-slate-600 mb-6 text-sm">
          Need a quote or have questions? Fill out this form and we'll get back to you within 15 minutes for emergencies, or 30 minutes during business hours for non-emergency requests.
        </p>

        <form id="footer-contact-form" class="space-y-4">
          <!-- Name and Phone Row -->
          <div class="grid sm:grid-cols-2 gap-4">
            <div>
              <label for="footer-name" class="block text-sm font-medium text-slate-700 mb-2">
                Your Name *
              </label>
              <input
                type="text"
                id="footer-name"
                name="name"
                required
                class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
                placeholder="John Smith"
              />
            </div>

            <div>
              <label for="footer-phone" class="block text-sm font-medium text-slate-700 mb-2">
                Phone Number *
              </label>
              <input
                type="tel"
                id="footer-phone"
                name="phone"
                required
                pattern="[\+]?[(]?[\d\s\-\(\)]{10,}"
                class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
                placeholder="(672) 238-4660"
              />
            </div>
          </div>

          <!-- Email -->
          <div>
            <label for="footer-email" class="block text-sm font-medium text-slate-700 mb-2">
              Email Address
            </label>
            <input
              type="email"
              id="footer-email"
              name="email"
              class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
              placeholder="john@example.com"
            />
          </div>

          <!-- Service Type -->
          <div>
            <label for="footer-service" class="block text-sm font-medium text-slate-700 mb-2">
              Service Needed
            </label>
            <select
              id="footer-service"
              name="service"
              class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
            >
              <option value="">Select a service...</option>
              <option value="emergency">Emergency Service</option>
              <option value="plumbing">Plumbing</option>
              <option value="electrical">Electrical</option>
              <option value="quote">Free Quote/Estimate</option>
              <option value="maintenance">Maintenance</option>
              <option value="other">Other</option>
            </select>
          </div>

          <!-- Message -->
          <div>
            <label for="footer-message" class="block text-sm font-medium text-slate-700 mb-2">
              Message
            </label>
            <textarea
              id="footer-message"
              name="message"
              rows="3"
              class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-vertical"
              placeholder="Describe your service needs or ask any questions..."
            ></textarea>
          </div>

          <!-- Honey-pot field for spam protection -->
          <div style="position: absolute; left: -5000px;" aria-hidden="true">
            <input type="text" name="company_website" tabindex="-1" value="" autocomplete="off" />
          </div>

          <!-- Submit Button -->
          <button
            type="submit"
            class="w-full bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg font-semibold transition-colors touch-manipulation"
          >
            Send Message
          </button>

          <!-- Success/Error Messages -->
          <div id="footer-form-message" class="hidden"></div>
        </form>
      </div>
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const footerForm = document.getElementById('footer-contact-form');
    const footerMessage = document.getElementById('footer-form-message');

    footerForm?.addEventListener('submit', function(e) {
      e.preventDefault();

      // Check honey-pot field for spam protection
      const honeypot = footerForm.querySelector('input[name="company_website"]');
      if (honeypot && honeypot.value !== '') {
        console.log('Spam detected via honey-pot field');
        return false;
      }

      // Validate required fields
      const name = footerForm.querySelector('input[name="name"]');
      const phone = footerForm.querySelector('input[name="phone"]');

      if (!name.value.trim()) {
        footerMessage.className = 'p-3 rounded-lg bg-red-100 text-red-800 text-sm';
        footerMessage.textContent = 'Please enter your name.';
        footerMessage.classList.remove('hidden');
        return false;
      }

      if (!phone.value.trim()) {
        footerMessage.className = 'p-3 rounded-lg bg-red-100 text-red-800 text-sm';
        footerMessage.textContent = 'Please enter your phone number.';
        footerMessage.classList.remove('hidden');
        return false;
      }

      // Basic phone validation
      const phonePattern = /[\+]?[(]?[\d\s\-\(\)]{10,}/;
      if (!phonePattern.test(phone.value)) {
        footerMessage.className = 'p-3 rounded-lg bg-red-100 text-red-800 text-sm';
        footerMessage.textContent = 'Please enter a valid phone number.';
        footerMessage.classList.remove('hidden');
        return false;
      }

      // Show loading state
      const submitBtn = footerForm.querySelector('button[type="submit"]');
      const originalText = submitBtn.textContent;
      submitBtn.textContent = 'Sending...';
      submitBtn.disabled = true;

      // Simulate form submission (replace with actual form handling)
      setTimeout(() => {
        footerMessage.className = 'p-3 rounded-lg bg-green-100 text-green-800 text-sm';
        footerMessage.textContent = 'Thank you! We\'ll contact you within 15 minutes for emergencies, or 30 minutes during business hours.';
        footerMessage.classList.remove('hidden');

        // Reset form
        footerForm.reset();
        submitBtn.textContent = originalText;
        submitBtn.disabled = false;

        // Hide message after 5 seconds
        setTimeout(() => {
          footerMessage.classList.add('hidden');
        }, 5000);
      }, 1000);
    });
  });
</script>